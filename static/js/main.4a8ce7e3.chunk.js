(this["webpackJsonpreact-typescript-starter-pack"]=this["webpackJsonpreact-typescript-starter-pack"]||[]).push([[0],{53:function(e,t,n){},55:function(e,t,n){},56:function(e,t,n){},57:function(e,t,n){},58:function(e,t,n){},59:function(e,t,n){},60:function(e,t,n){},61:function(e,t,n){},62:function(e,t,n){},63:function(e,t,n){},64:function(e,t,n){},65:function(e,t,n){},66:function(e,t,n){},69:function(e,t,n){"use strict";n.r(t);var c=n(0),s=n(24),a=n(26),r=n.n(a),i=n(6),o=n(38),l=n(3),u=n(5),j=s.c,b=s.b,d=n(13),m=n(15),O=n(4),g=n.n(O),p=n(7),h="https://api.wisey.app",x="api/v1",f="".concat(h,"/").concat(x,"/auth/anonymous?platform=subscriptions"),v="".concat(h,"/").concat(x,"/core/preview-courses");function _(e){return new Promise((function(t){setTimeout(t,e)}))}var N=function(){return fetch(f).then((function(e){return e.json()}))};function k(){return(k=Object(p.a)(g.a.mark((function e(t){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N();case 2:return n=e.sent,e.abrupt("return",_(300).then((function(){return fetch(t?"".concat(v,"/").concat(t):v,{headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(n.token)}})})).then((function(e){if(!e.ok)throw new Error;return e.json()})));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var y=function(e){return function(e){return k.apply(this,arguments)}(e)},C=function(){var e=Object(p.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",y(""));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=function(){var e=Object(p.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",y(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),L=Object(m.b)("courses/fetch",(function(){return C()})),I=Object(m.c)({name:"courses",initialState:{courses:[],loading:!1,error:""},reducers:{},extraReducers:function(e){e.addCase(L.pending,(function(e){return Object(d.a)(Object(d.a)({},e),{},{loading:!0})})),e.addCase(L.fulfilled,(function(e,t){return Object(d.a)(Object(d.a)({},e),{},{courses:t.payload.courses,loading:!1,error:""})})),e.addCase(L.rejected,(function(e){return Object(d.a)(Object(d.a)({},e),{},{error:"Error",loading:!1})}))}}),S=I.reducer,P=(I.actions,n(12)),A=n.n(P),F=Object(m.c)({name:"actaulCourse",initialState:"",reducers:{setActualCourse:function(e,t){return t.payload}}}),T=F.reducer,E=F.actions,B=(n(53),n(1)),R=function(e){var t=e.course,n=j((function(e){return e.actualCourse})),c=b();return Object(B.jsxs)("div",{className:"courseItem",children:[Object(B.jsx)("img",{className:"courseItem__image",src:"".concat(t.previewImageLink,"/cover.webp"),alt:"product"}),Object(B.jsx)("h4",{className:"courseItem__name",children:t.title}),Object(B.jsxs)("div",{className:"courseItem__info",children:[Object(B.jsx)("p",{children:"Lessons: ".concat(t.lessonsCount)}),Object(B.jsx)("p",{children:"Rating: ".concat(t.rating,"/5")})]}),t.meta.skills?Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)("p",{className:"courseItem__skills",children:"Skills:"}),Object(B.jsx)("ul",{className:"courseItem__skillsList",children:t.meta.skills.map((function(e){return Object(B.jsx)("li",{className:"courseItem__skillItem",children:e},e)}))})]}):"",Object(B.jsx)(i.b,{className:A()("courseItem__button",{"courseItem__button--added":t.id===n}),to:"/courses/".concat(t.meta.slug),onClick:function(){return c(E.setActualCourse(t.id))},children:t.id===n?"Continue":"Start Course"})]})},D=(n(55),function(){return Object(B.jsxs)("div",{className:"error",children:[Object(B.jsx)("h2",{className:"error__title",children:"Ooops!"}),Object(B.jsx)("p",{className:"error__message",children:"Something went wrong!"})]})}),H=(n(56),function(){return Object(B.jsx)("div",{className:"Loader","data-cy":"loader",children:Object(B.jsx)("div",{className:"Loader__content"})})});function U(e,t){var n=new URLSearchParams(e.toString());return Object.entries(t).forEach((function(e){var t=Object(u.a)(e,2),c=t[0],s=t[1];null===s?n.delete(c):Array.isArray(s)?(n.delete(c),s.forEach((function(e){n.append(c,e)}))):n.set(c,s)})),n.toString()}n(57);var G=function(e){var t=e.pages,n=Object(i.d)(),c=Object(u.a)(n,2),s=c[0],a=c[1],r=s.get("page");return Object(B.jsxs)("div",{"data-cy":"pagination",className:"pagination",children:[Object(B.jsx)("button",{className:A()("pagination__button",{"pagination__button--disabled":!r||r&&"1"===r}),type:"button",onClick:function(){return a(U(s,{page:r&&String(+r-1)}))},disabled:!r||"1"===r,"data-cy":"paginationLeft",children:r&&"1"!==r?Object(B.jsx)("img",{src:"./img/arrowLeft.svg",alt:"prevPage"}):Object(B.jsx)("img",{src:"./img/arrowLeftDisabled.svg",alt:"prevPageDisabled"})}),Object(B.jsx)("div",{className:"pagination__pages",children:t.length<5?Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)("button",{type:"button",className:A()("pagination__page",{"pagination__page--isActive":!r||"1"===r}),onClick:function(){a(U(s,{page:"1"}))},children:"1"}),t.slice(1).map((function(e){return Object(B.jsx)("button",{type:"button",className:A()("pagination__page",{"pagination__page--isActive":r&&+r===e}),onClick:function(){a(U(s,{page:String(e)}))},children:e},e)}))]}):Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)("button",{type:"button",className:A()("pagination__page",{"pagination__page--isActive":!r||r&&"1"===r}),onClick:function(){a(U(s,{page:"1"}))},children:"1"}),r&&"1"!==r&&"2"!==r&&Object(B.jsx)("div",{className:"pagination__dots",children:"..."}),Object(B.jsxs)("button",{type:"button",className:A()("pagination__page",{"pagination__page--isActive":r&&"1"!==r&&+r!==t.length}),onClick:function(e){a(U(s,{page:e.currentTarget.innerText}))},children:[(!r||"1"===r)&&2,r&&+r===t.length&&t.length-1,r&&r&&"1"!==r&&+r!==t.length&&+r]}),(!r||r&&+r!==t.length&&+r!==t.length-1)&&Object(B.jsx)("div",{className:"pagination__dots",children:"..."}),Object(B.jsx)("button",{type:"button",className:A()("pagination__page",{"pagination__page--isActive":r&&+r===t.length}),onClick:function(){a(U(s,{page:String(t.length)}))},children:t.length})]})}),Object(B.jsx)("button",{className:A()("pagination__button",{"pagination__button--disabled":r&&+r===t.length}),type:"button",onClick:function(){return a(U(s,{page:r?String(+r+1):"2"}))},disabled:null!==r&&+r===t.length,"data-cy":"paginationRight",children:r&&+r===t.length?Object(B.jsx)("img",{src:"./img/arrowRightDisabled.svg",alt:"nextPageDisabled"}):Object(B.jsx)("img",{src:"./img/arrowRight.svg",alt:"nextPage"})})]})},M=(n(58),function(){var e=Object(i.d)(),t=Object(u.a)(e,1)[0].get("page"),n=j((function(e){return e.courses})),s=n.courses,a=n.loading,r=n.error,o=b();Object(c.useEffect)((function(){o(L())}),[]);var l=Array.from(Array(Math.ceil(s.length/10)+1).keys()).slice(1);return Object(B.jsx)("div",{className:"courses",children:a?Object(B.jsx)(H,{}):Object(B.jsx)(B.Fragment,{children:!a&&r?Object(B.jsx)(D,{}):Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)("h1",{className:"courses__title",children:"Courses"}),Object(B.jsx)("div",{className:"courses__main",children:Object(B.jsx)("ul",{className:"courses__list",children:s.slice(t?10*(+t-1):0,10*(t?+t:1)).map((function(e){return Object(B.jsx)("li",{children:Object(B.jsx)(R,{course:e})},e.id)}))})}),Object(B.jsx)(G,{pages:l})]})})})}),q=(n(59),function(){var e=Object(l.l)();return Object(B.jsx)("div",{className:"footer",children:Object(B.jsxs)("div",{className:"footer__content",children:[Object(B.jsx)(i.b,{to:"/courses",className:"footer__logo",children:Object(B.jsx)("img",{src:"./img/logo.svg",alt:"logo",className:"logo"})}),Object(B.jsxs)("div",{className:"footer__list",children:[Object(B.jsx)("a",{href:"https://github.com/",target:"_blank",className:"footer__item",rel:"noreferrer",children:"GITHUB"}),Object(B.jsx)(i.b,{to:"/contacts",className:"footer__item",children:"CONTACTS"}),Object(B.jsx)(i.b,{to:"/rights",className:"footer__item",children:"RIGHTS"})]}),Object(B.jsxs)("div",{className:"footer__up",children:[Object(B.jsx)(i.b,{className:"footer__text",onClick:function(){return window.scrollTo(0,0)},to:"".concat(e.pathname),children:"Back to top"}),Object(B.jsx)("button",{type:"button",className:"footer__button",onClick:function(){return window.scrollTo(0,0)},children:Object(B.jsx)("img",{src:"./img/arrowUp.svg",alt:"up"})})]})]})})}),z=function(e){var t=e.to,n=e.text;return Object(B.jsx)(i.c,{to:t,className:function(e){var t=e.isActive;return A()("navbar__item",{"is-active":t})},children:n})},J=(n(60),function(){return Object(B.jsxs)("nav",{className:"navbar",children:[Object(B.jsx)(i.b,{to:"/courses",className:"navbar__logo",children:Object(B.jsx)("img",{src:"./img/logo.svg",alt:"logo",className:"logo"})}),Object(B.jsxs)("div",{className:"navbar__list",children:[Object(B.jsx)(z,{to:"/courses",text:"COURSES"}),Object(B.jsx)(z,{to:"/english",text:"ENGLISH"}),Object(B.jsx)(z,{to:"/hometask",text:"HOMETASK"})]})]})}),W=function(){return Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(J,{}),Object(B.jsx)("div",{className:"container",children:Object(B.jsx)(M,{})}),Object(B.jsx)(q,{})]})},K=(n(61),function(){return Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(J,{}),Object(B.jsx)("div",{className:"container",children:Object(B.jsxs)("div",{className:"notImplementedPage",children:[Object(B.jsx)("h2",{className:"notImplementedPage__title",children:"Ooops!"}),Object(B.jsx)("p",{className:"notImplementedPage__message",children:"We are sorry, but this feature is not implemented yet!"}),Object(B.jsx)(i.b,{className:"notImplementedPage__button",to:"/",children:"Back to courses page"})]})}),Object(B.jsx)(q,{})]})}),Q=function(){return Object(B.jsx)(K,{})},V=function(){return Object(B.jsx)(K,{})},X=(n(62),function(){return Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(J,{}),Object(B.jsx)("div",{className:"container",children:Object(B.jsxs)("div",{className:"notFoundPage",children:[Object(B.jsx)("h2",{className:"notFoundPage__title",children:"Ooops!"}),Object(B.jsx)("p",{className:"notFoundPage__message",children:"Page not found"}),Object(B.jsx)(i.b,{className:"notFoundPage__button",to:"/",children:"Back to courses page"})]})}),Object(B.jsx)(q,{})]})}),Y=(n(63),function(){var e=Object(l.n)();return Object(B.jsxs)("button",{className:"backButton",type:"button",onClick:function(){return e(-1)},"data-cy":"backButton",children:[Object(B.jsx)("img",{src:"./img/arrowLeft.svg",alt:"back"}),"Back"]})}),Z=n(39),$=n.n(Z),ee=Object(m.c)({name:"actaulLesson",initialState:{actualLesson:null},reducers:{setActualLesson:function(e,t){return Object(d.a)(Object(d.a)({},e),{},{actualLesson:t.payload})}}}),te=ee.reducer,ne=ee.actions,ce=(n(64),function(e){var t,n,s,a=e.activeCourse,r=Object(c.useState)(!1),i=Object(u.a)(r,2),o=i[0],l=i[1],d=Object(c.useState)(""),m=Object(u.a)(d,2),O=m[0],g=m[1],p=j((function(e){return e.actualLesson})).actualLesson,h=b();if(!a)return null;var x=function(){return a.lessons.some((function(e){return e.link===(null===p||void 0===p?void 0:p.link)}))?null===p||void 0===p?void 0:p.link:null};return Object(B.jsxs)("div",{className:"activeCourse",children:[x()||(null===(t=a.lessons.find((function(e){return 1===e.order})))||void 0===t?void 0:t.link)?Object(B.jsx)($.a,{url:x()||(null===(n=a.lessons.find((function(e){return 1===e.order})))||void 0===n?void 0:n.link)}):Object(B.jsx)("img",{className:"activeCourse__image",src:p&&"".concat(null===p||void 0===p?void 0:p.previewImageLink,"/lesson-").concat(null===p||void 0===p?void 0:p.order,".webp")||"".concat(null===(s=a.lessons.find((function(e){return 1===e.order})))||void 0===s?void 0:s.previewImageLink,"/lesson-1.webp"),alt:"previewImage"}),Object(B.jsxs)("div",{className:"activeCourse__info",children:[Object(B.jsx)("h1",{children:a.title}),Object(B.jsx)("p",{children:a.description}),Object(B.jsx)("p",{children:"Lessons:"}),Object(B.jsx)("ul",{className:"activeCourse__lessons",children:a.lessons.sort((function(e,t){return e.order-t.order})).map((function(e){return Object(B.jsxs)("li",{className:"activeCourse__lesson",children:[Object(B.jsxs)("button",{className:A()("activeCourse__button",{"activeCourse__button--locked":"locked"===e.status}),type:"button",onClick:function(){return"locked"===e.status?(t=e.id,l(!0),g(t),void setTimeout((function(){g(""),l(!1)}),5e3)):function(e){e.link,h(ne.setActualLesson(e))}(e);var t},children:["".concat(e.order,". ").concat(e.title),o&&O===e.id&&Object(B.jsx)("div",{className:"activeCourse__lockedMessage",children:Object(B.jsx)("p",{children:"Complete all required and all optional quests on the topic to unlock video."})})]}),!x()&&1===e.order&&e.link&&Object(B.jsx)("img",{className:"activeCourse__isPlaying",src:"./img/play-button.svg",alt:"play"}),(null===p||void 0===p?void 0:p.link)&&x()===e.link&&Object(B.jsx)("img",{className:"activeCourse__isPlaying",src:"./img/play-button.svg",alt:"play"}),!e.link&&(null===p||void 0===p?void 0:p.previewImageLink)===e.previewImageLink&&Object(B.jsx)("img",{className:"activeCourse__isPlaying",src:"./img/play-button.svg",alt:"play"}),(null===p||void 0===p?void 0:p.link)&&(null===p||void 0===p?void 0:p.link)===e.link&&Object(B.jsx)("p",{className:"activeCourse__activeLesson",children:"Last video"})]},e.id)}))})]})]})}),se=(n(65),function(e){var t=e.activeCourse;return t&&Object(B.jsxs)("div",{className:"breadcrumbs","data-cy":"breadCrumbs",children:[Object(B.jsx)(i.b,{to:"/",className:"breadcrumbs__link",children:Object(B.jsx)("img",{src:"./img/home.svg",alt:"home",className:"icon"})}),Object(B.jsx)("img",{src:"./img/arrowRightDisabled.svg",alt:"arrowLeft"}),Object(B.jsx)("p",{className:"breadcrumbs__activeProduct",children:t.title})]})}),ae=function(){var e=Object(c.useState)(null),t=Object(u.a)(e,2),n=t[0],s=t[1],a=Object(c.useState)(""),r=Object(u.a)(a,2),i=r[0],o=r[1],b=Object(l.l)(),d=j((function(e){return e.courses})).courses.find((function(e){return e.meta.slug===b.pathname.slice(9)}));return Object(c.useEffect)((function(){(function(){var e=Object(p.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!d){e.next=6;break}return e.next=4,w(d.id);case 4:t=e.sent,s(t);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),o("We can not load data.");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}})()()}),[d]),Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(J,{}),Object(B.jsx)("div",{className:"container",children:Object(B.jsx)(B.Fragment,{children:n||i?Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(se,{activeCourse:n}),Object(B.jsx)(Y,{}),i&&Object(B.jsx)(D,{}),n&&Object(B.jsx)(ce,{activeCourse:n})]}):Object(B.jsx)(H,{})})}),Object(B.jsx)(q,{})]})},re=(n(66),function(){return Object(B.jsx)("div",{className:"App",children:Object(B.jsxs)(l.d,{children:[Object(B.jsx)(l.b,{path:"*",element:Object(B.jsx)(X,{})}),Object(B.jsxs)(l.b,{path:"/courses",children:[Object(B.jsx)(l.b,{index:!0,path:"/courses",element:Object(B.jsx)(W,{})}),Object(B.jsx)(l.b,{path:"/courses/:slug",element:Object(B.jsx)(ae,{})})]}),Object(B.jsx)(l.b,{path:"/",element:Object(B.jsx)(l.a,{to:"/courses",replace:!0})}),Object(B.jsx)(l.b,{path:"/english",element:Object(B.jsx)(Q,{})}),Object(B.jsx)(l.b,{path:"/hometask",element:Object(B.jsx)(V,{})}),Object(B.jsx)(l.b,{path:"/notImplementedPage",element:Object(B.jsx)(K,{})})]})})}),ie=n(11),oe=n(16),le=n(40),ue=n.n(le),je=Object(ie.b)({actualCourse:T,courses:S,actualLesson:te}),be={key:"root",storage:ue.a},de=Object(oe.g)(be,je),me=Object(m.a)({reducer:de,middleware:function(e){return e({serializableCheck:{ignoredActions:[oe.a,oe.f,oe.b,oe.c,oe.d,oe.e]}})}}),Oe=Object(oe.h)(me),ge=me;r.a.render(Object(B.jsx)(i.a,{children:Object(B.jsx)(s.a,{store:ge,children:Object(B.jsx)(o.a,{loading:null,persistor:Oe,children:Object(B.jsx)(re,{})})})}),document.getElementById("root"))}},[[69,1,2]]]);
//# sourceMappingURL=main.4a8ce7e3.chunk.js.map